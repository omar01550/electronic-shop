"use strict";var __awaiter=this&&this.__awaiter||function(o,t,e,n){return new(e||(e=Promise))((function(a,c){function r(o){try{s(n.next(o))}catch(o){c(o)}}function l(o){try{s(n.throw(o))}catch(o){c(o)}}function s(o){var t;o.done?a(o.value):(t=o.value,t instanceof e?t:new e((function(o){o(t)}))).then(r,l)}s((n=n.apply(o,t||[])).next())}))};let popularMobiles=document.querySelector(".popular-mobiles .container"),popularwatches=document.querySelector(".popular-watches .container"),popularLoder=document.querySelector(".popular-loder");function createProductMobile(o){return`\n        <div class="mobile product" id=${o.id}>\n              <img src=${o.image} alt="not found image" class="mobile-image">\n              <div class="details">\n                  <h1 class="mobile-title">${o.name}</h1>\n                  <small class="brand">${o.barnd}</small>\n                  <span class="storage">storage ${o.storage} gb</span>\n                  <span class="ram">ram ${o.ram} gb</span>\n                  <span>color ${o.color}</span>\n                  <div class="price">\n                      <h3 class="real-price">${o.price} <small>EGP</small></h3>\n                      <span>discount 0 egp</span>\n\n                  </div>\n                  <button type="button" name="button" class="add-to-cart">\n                         <span>add to cart</span>\n                         <i class="fa fa-cart-shopping"></i>\n                  </button>\n              </div>\n\n        </div>\n\n    `}function createProductWatch(o,t,e,n,a){return`\n                <div class="watch product" id=${o}>\n                <img src=${t} alt="not found image" class="mobile-image">\n                <div class="details">\n                    <h1 class="mobile-title">${e}</h1>\n\n                    <span>color ${n}</span>\n                    <div class="price">\n                        <h3 class="real-price">${a}</h3>\n                        <span>discount 0 egp</span>\n\n                    </div>\n                    <button type="button" name="button" class="add-to-cart">\n                           <span>add to cart</span>\n                           <i class="fa fa-cart-shopping"></i>\n                    </button>\n                </div>\n\n          </div>\n\n      `}function clickOnProduct(){document.querySelectorAll(".product").forEach((o=>{o.addEventListener("click",(function(){localStorage.currentId=o.id,o.classList.contains("mobile")?localStorage.type="mobiles":localStorage.type="watches",window.location="details.html"}))}))}function getMobilesFromDb(){return __awaiter(this,void 0,void 0,(function*(){popularLoder.classList.remove("hidden");let o=yield fetch("https://omarapp-72ea1-default-rtdb.firebaseio.com/products/mobiles.json"),t=yield o.json();o.status>=300||o.status<200?console.log("response not load "+o.status):popularLoder.classList.add("hidden"),popularMobiles.innerHTML="",t.forEach((o=>{popularMobiles.innerHTML+=createProductMobile(o)})),clickOnProduct()}))}function getWatchesFromDb(){return __awaiter(this,void 0,void 0,(function*(){let o=yield fetch("https://omarapp-72ea1-default-rtdb.firebaseio.com/products/watches.json"),t=yield o.json();popularwatches.innerHTML="",t.forEach(((o,t)=>{popularwatches.innerHTML+=createProductWatch(t,o.image,o.brand,o.color,o.price),console.log(o)})),clickOnProduct()}))}function mobilesSectionScrolling(){let o=document.querySelector(".popular-mobiles .container"),t=document.querySelector(".popular-mobiles .arrow-left"),e=document.querySelector(".popular-mobiles .arrow-right");t.addEventListener("click",(function(){t.style.backgroundColor="var(--main-color)",t.style.color="white",setTimeout((function(){t.style.backgroundColor="rgba(0,0,0,0.3)",t.style.color="var(--text-color)"}),50),o.scrollTo({left:o.scrollLeft-350,top:0})})),e.addEventListener("click",(function(){e.style.backgroundColor="var(--main-color)",e.style.color="white",setTimeout((function(){e.style.backgroundColor="rgba(0,0,0,0.3)",e.style.color="var(--text-color)"}),50),o.scrollTo({left:o.scrollLeft+350,top:0})}))}function watchesSectionScrolling(){let o=document.querySelector(".popular-watches .container"),t=document.querySelector(".popular-watches .arrow-left"),e=document.querySelector(".popular-watches .arrow-right");t.addEventListener("click",(function(){o.scrollTo({left:o.scrollLeft-350,top:0})})),e.addEventListener("click",(function(){o.scrollTo({left:o.scrollLeft+350,top:0})}))}getMobilesFromDb(),getWatchesFromDb(),mobilesSectionScrolling(),watchesSectionScrolling();
